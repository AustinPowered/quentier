cmake_minimum_required(VERSION 2.8)
project(QuteNoteProject)

include("cmake/cmake_policy.cmake")
include("cmake/compiler.cmake")
include("cmake/qt.cmake")
include("cmake/boost.cmake")
include("cmake/openssl.cmake")

add_subdirectory(thrift)
get_directory_property(THRIFT_LIB DIRECTORY thrift DEFINITION PROJECT_NAME)
get_directory_property(THRIFT_SOURCES DIRECTORY thrift DEFINITION ${THRIFT_LIB}_SOURCES)
get_directory_property(THRIFT_INCLUDE_DIRS DIRECTORY thrift DEFINITION ${THRIFT_LIB}_INCLUDE_DIRS)

add_subdirectory(kqoauth)
get_directory_property(KQOAUTH_LIB DIRECTORY kqoauth DEFINITION PROJECT_NAME)
get_directory_property(KQOAUTH_SOURCES DIRECTORY kqoauth DEFINITION ${KQOAUTH_LIB}_SOURCES)
get_directory_property(KQOAUTH_INCLUDE_DIRS DIRECTORY kqoauth DEFINITION ${KQOAUTH_LIB}_INCLUDE_DIRS)

add_subdirectory(SimpleCrypt)
get_directory_property(SIMPLECRYPT_LIB DIRECTORY SimpleCrypt DEFINITION PROJECT_NAME)
get_directory_property(SIMPLECRYPT_SOURCES DIRECTORY SimpleCrypt DEFINITION ${SIMPLECRYPT_LIB}_SOURCES)
get_directory_property(SIMPLECRYPT_INCLUDE_DIRS DIRECTORY SimpleCrypt DEFINITION ${SIMPLECRYPT_LIB}_INCLUDE_DIRS)

add_subdirectory(QuteNote)
get_directory_property(QUTE_NOTE_APP DIRECTORY QuteNote DEFINITION PROJECT_NAME)
get_directory_property(QUTE_NOTE_SOURCES DIRECTORY QuteNote DEFINITION ${QUTE_NOTE_APP}_SOURCES)
get_directory_property(QUTE_NOTE_INCLUDE_DIRS DIRECTORY QuteNote DEFINITION ${QUTE_NOTE_APP}_INCLUDE_DIRS)

set(QUTE_NOTE_COMPLETE_SOURCES "${THRIFT_SOURCES}")
list(APPEND QUTE_NOTE_COMPLETE_SOURCES "${KQOAUTH_SOURCES}")
list(APPEND QUTE_NOTE_COMPLETE_SOURCES "${SIMPLECRYPT_SOURCES}")
list(APPEND QUTE_NOTE_COMPLETE_SOURCES "${QUTE_NOTE_SOURCES}")

set(QUTE_NOTE_COMPLETE_INCLUDE_DIRS "${THRIFT_INCLUDE_DIRS}")
list(APPEND QUTE_NOTE_COMPLETE_INCLUDE_DIRS "${KQOAUTH_INCLUDE_DIRS}")
list(APPEND QUTE_NOTE_COMPLETE_INCLUDE_DIRS "${SIMPLECRYPT_INCLUDE_DIRS}")
list(APPEND QUTE_NOTE_COMPLETE_INCLUDE_DIRS "${QUTE_NOTE_INCLUDE_DIRS}")

include("cmake/cppcheck.cmake")
